â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        EXPENSE TRACKER & SPLITTER                            â”‚
â”‚                         Full-Stack Application                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              FRONTEND (React)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         Navigation Bar                                â”‚  â”‚
â”‚  â”‚  [ğŸ’° Expense Tracker]  [ğŸ‘¥ Split Expenses]                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Expense Tracker View   â”‚  â”‚      Split Expenses View                 â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â€¢ Sidebar (Years/Months)â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚ â€¢ Balance Card          â”‚  â”‚ â”‚  Sidebar   â”‚  â”‚   Main Content     â”‚  â”‚ â”‚
â”‚  â”‚ â€¢ Add Transaction       â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚ â€¢ Expense Chart         â”‚  â”‚ â”‚ Friends:   â”‚  â”‚ Group Header       â”‚  â”‚ â”‚
â”‚  â”‚ â€¢ Transaction List      â”‚  â”‚ â”‚ â€¢ Alice    â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”‚
â”‚  â”‚                         â”‚  â”‚ â”‚ â€¢ Bob      â”‚  â”‚ â”‚ [Expenses]     â”‚ â”‚  â”‚ â”‚
â”‚  â”‚ Components:             â”‚  â”‚ â”‚ â€¢ Charlie  â”‚  â”‚ â”‚ [Balances]     â”‚ â”‚  â”‚ â”‚
â”‚  â”‚ â€¢ Sidebar.jsx           â”‚  â”‚ â”‚            â”‚  â”‚ â”‚ [Settlements]  â”‚ â”‚  â”‚ â”‚
â”‚  â”‚ â€¢ AddTransaction.jsx    â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”‚
â”‚  â”‚ â€¢ ExpenseChart.jsx      â”‚  â”‚ â”‚ Groups:    â”‚  â”‚                    â”‚  â”‚ â”‚
â”‚  â”‚ â€¢ TransactionList.jsx   â”‚  â”‚ â”‚ â€¢ Trip     â”‚  â”‚ Tab Content:       â”‚  â”‚ â”‚
â”‚  â”‚                         â”‚  â”‚ â”‚ â€¢ Roomies  â”‚  â”‚ â€¢ Add Expense      â”‚  â”‚ â”‚
â”‚  â”‚ API: api.js             â”‚  â”‚ â”‚            â”‚  â”‚ â€¢ View Expenses    â”‚  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ Split Types      â”‚  â”‚ â”‚
â”‚                                â”‚                 â”‚ â€¢ Balances List    â”‚  â”‚ â”‚
â”‚                                â”‚ Component:      â”‚ â€¢ Record Payment   â”‚  â”‚ â”‚
â”‚                                â”‚ â€¢ Groups.jsx    â”‚ â€¢ Settlement Hist. â”‚  â”‚ â”‚
â”‚                                â”‚                 â”‚                    â”‚  â”‚ â”‚
â”‚                                â”‚ API: groupsApi.js                    â”‚  â”‚ â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â†• HTTP/JSON
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           BACKEND (Flask/Python)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          app.py (Main)                                â”‚  â”‚
â”‚  â”‚                    Flask App + CORS + Blueprints                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Transaction Routes     â”‚  â”‚      Groups Blueprint (groups_api.py)    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ GET    /api/transactionsâ”‚  â”‚ Friends Endpoints:                       â”‚ â”‚
â”‚  â”‚ POST   /api/transactionsâ”‚  â”‚ â€¢ GET    /api/friends                    â”‚ â”‚
â”‚  â”‚ DELETE /api/transactionsâ”‚  â”‚ â€¢ POST   /api/friends                    â”‚ â”‚
â”‚  â”‚        /<id>            â”‚  â”‚ â€¢ DELETE /api/friends/<id>               â”‚ â”‚
â”‚  â”‚                         â”‚  â”‚                                          â”‚ â”‚
â”‚  â”‚ Functions:              â”‚  â”‚ Groups Endpoints:                        â”‚ â”‚
â”‚  â”‚ â€¢ get_transactions()    â”‚  â”‚ â€¢ GET    /api/groups                     â”‚ â”‚
â”‚  â”‚ â€¢ add_transaction()     â”‚  â”‚ â€¢ POST   /api/groups                     â”‚ â”‚
â”‚  â”‚ â€¢ delete_transaction()  â”‚  â”‚ â€¢ PUT    /api/groups/<id>                â”‚ â”‚
â”‚  â”‚ â€¢ load_transactions()   â”‚  â”‚ â€¢ DELETE /api/groups/<id>                â”‚ â”‚
â”‚  â”‚ â€¢ save_transactions()   â”‚  â”‚                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Shared Expenses Endpoints:               â”‚ â”‚
â”‚                                â”‚ â€¢ GET    /api/shared-expenses            â”‚ â”‚
â”‚                                â”‚ â€¢ POST   /api/shared-expenses            â”‚ â”‚
â”‚                                â”‚ â€¢ DELETE /api/shared-expenses/<id>       â”‚ â”‚
â”‚                                â”‚                                          â”‚ â”‚
â”‚                                â”‚ Balance Endpoint:                        â”‚ â”‚
â”‚                                â”‚ â€¢ GET    /api/balances                   â”‚ â”‚
â”‚                                â”‚                                          â”‚ â”‚
â”‚                                â”‚ Settlements Endpoints:                   â”‚ â”‚
â”‚                                â”‚ â€¢ GET    /api/settlements                â”‚ â”‚
â”‚                                â”‚ â€¢ POST   /api/settlements                â”‚ â”‚
â”‚                                â”‚ â€¢ DELETE /api/settlements/<id>           â”‚ â”‚
â”‚                                â”‚                                          â”‚ â”‚
â”‚                                â”‚ Core Functions:                          â”‚ â”‚
â”‚                                â”‚ â€¢ calculate_splits() - 4 split types     â”‚ â”‚
â”‚                                â”‚ â€¢ simplify_debts() - Debt optimization   â”‚ â”‚
â”‚                                â”‚ â€¢ load_json_file() - Data loading        â”‚ â”‚
â”‚                                â”‚ â€¢ save_json_file() - Data saving         â”‚ â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â†• File I/O
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA STORAGE (JSON Files)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  backend/storage/                                                            â”‚
â”‚  â”œâ”€â”€ 2024/                                                                   â”‚
â”‚  â”‚   â”œâ”€â”€ transactions.json      â† Personal expenses for 2024               â”‚
â”‚  â”‚   â””â”€â”€ images/                â† Bill images                               â”‚
â”‚  â”œâ”€â”€ 2025/                                                                   â”‚
â”‚  â”‚   â””â”€â”€ transactions.json      â† Personal expenses for 2025               â”‚
â”‚  â”œâ”€â”€ friends.json               â† Friends list                              â”‚
â”‚  â”œâ”€â”€ groups.json                â† Groups and members                        â”‚
â”‚  â”œâ”€â”€ shared_expenses.json       â† Shared expenses with splits               â”‚
â”‚  â””â”€â”€ settlements.json           â† Payment history                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXPENSE SPLITTING ALGORITHM                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. CALCULATE SPLITS (4 Types)                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚     â”‚   Equal    â”‚  Unequal   â”‚ Percentage â”‚   Shares   â”‚                  â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚     â”‚ Total / N  â”‚   Manual   â”‚  Total * % â”‚ Total * S  â”‚                  â”‚
â”‚     â”‚            â”‚   Amounts  â”‚            â”‚  / TotalS  â”‚                  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                                              â”‚
â”‚  2. TRACK BALANCES                                                           â”‚
â”‚     For each expense:                                                        â”‚
â”‚       â€¢ Person who paid gets credit                                         â”‚
â”‚       â€¢ Each split participant gets debit                                   â”‚
â”‚       â€¢ Net balance = Credits - Debits                                      â”‚
â”‚                                                                              â”‚
â”‚  3. SIMPLIFY DEBTS (Greedy Algorithm)                                       â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚     â”‚ Input: Net balances for all people               â”‚                   â”‚
â”‚     â”‚                                                   â”‚                   â”‚
â”‚     â”‚ Step 1: Separate into debtors and creditors      â”‚                   â”‚
â”‚     â”‚   Debtors:    [Bob: -$50, Charlie: -$30]        â”‚                   â”‚
â”‚     â”‚   Creditors:  [Alice: +$80]                      â”‚                   â”‚
â”‚     â”‚                                                   â”‚                   â”‚
â”‚     â”‚ Step 2: Sort by amount (largest first)           â”‚                   â”‚
â”‚     â”‚                                                   â”‚                   â”‚
â”‚     â”‚ Step 3: Match largest debtor with creditor       â”‚                   â”‚
â”‚     â”‚   Bob owes Alice: min($50, $80) = $50           â”‚                   â”‚
â”‚     â”‚   Update: Bob: $0, Alice: $30                    â”‚                   â”‚
â”‚     â”‚                                                   â”‚                   â”‚
â”‚     â”‚ Step 4: Repeat until all balanced                â”‚                   â”‚
â”‚     â”‚   Charlie owes Alice: min($30, $30) = $30       â”‚                   â”‚
â”‚     â”‚   Update: Charlie: $0, Alice: $0                 â”‚                   â”‚
â”‚     â”‚                                                   â”‚                   â”‚
â”‚     â”‚ Output: Simplified transactions                  â”‚                   â”‚
â”‚     â”‚   â€¢ Bob â†’ Alice: $50                             â”‚                   â”‚
â”‚     â”‚   â€¢ Charlie â†’ Alice: $30                         â”‚                   â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                              â”‚
â”‚  4. APPLY SETTLEMENTS                                                        â”‚
â”‚     When payment recorded:                                                   â”‚
â”‚       â€¢ Subtract settlement amount from balance                             â”‚
â”‚       â€¢ Recalculate simplified debts                                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              DATA FLOW EXAMPLE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Scenario: Weekend Trip                                                      â”‚
â”‚                                                                              â”‚
â”‚  1. CREATE GROUP                                                             â”‚
â”‚     Frontend â†’ POST /api/groups                                             â”‚
â”‚     {                                                                        â”‚
â”‚       "name": "Vegas Trip",                                                 â”‚
â”‚       "member_ids": ["alice_id", "bob_id", "charlie_id"]                   â”‚
â”‚     }                                                                        â”‚
â”‚     Backend â†’ Save to groups.json â†’ Return group object                     â”‚
â”‚                                                                              â”‚
â”‚  2. ADD EXPENSE                                                              â”‚
â”‚     Frontend â†’ POST /api/shared-expenses                                    â”‚
â”‚     {                                                                        â”‚
â”‚       "description": "Hotel",                                               â”‚
â”‚       "amount": 300,                                                        â”‚
â”‚       "paid_by": "alice_id",                                                â”‚
â”‚       "split_type": "equal",                                                â”‚
â”‚       "splits": [{"friend_id": "alice_id"}, ...]                           â”‚
â”‚     }                                                                        â”‚
â”‚     Backend â†’ Calculate splits â†’ Save to shared_expenses.json              â”‚
â”‚     Returns: { splits: [{friend_id: "alice_id", amount: 100}, ...] }       â”‚
â”‚                                                                              â”‚
â”‚  3. GET BALANCES                                                             â”‚
â”‚     Frontend â†’ GET /api/balances?group_id=vegas_trip_id                     â”‚
â”‚     Backend â†’                                                                â”‚
â”‚       â€¢ Load all expenses for group                                         â”‚
â”‚       â€¢ Load all settlements for group                                      â”‚
â”‚       â€¢ Calculate net balances                                              â”‚
â”‚       â€¢ Run debt simplification algorithm                                   â”‚
â”‚     Returns: [                                                               â”‚
â”‚       {from: "bob_id", to: "alice_id", amount: 50},                        â”‚
â”‚       {from: "charlie_id", to: "alice_id", amount: 30}                     â”‚
â”‚     ]                                                                        â”‚
â”‚                                                                              â”‚
â”‚  4. RECORD SETTLEMENT                                                        â”‚
â”‚     Frontend â†’ POST /api/settlements                                        â”‚
â”‚     {                                                                        â”‚
â”‚       "paid_by": "bob_id",                                                  â”‚
â”‚       "paid_to": "alice_id",                                                â”‚
â”‚       "amount": 50                                                          â”‚
â”‚     }                                                                        â”‚
â”‚     Backend â†’ Save to settlements.json â†’ Return settlement object           â”‚
â”‚                                                                              â”‚
â”‚  5. UPDATED BALANCES                                                         â”‚
â”‚     Frontend â†’ GET /api/balances?group_id=vegas_trip_id                     â”‚
â”‚     Backend â†’ Recalculate with new settlement                               â”‚
â”‚     Returns: [                                                               â”‚
â”‚       {from: "charlie_id", to: "alice_id", amount: 30}                     â”‚
â”‚     ]                                                                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
